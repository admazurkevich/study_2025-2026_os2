---
## Front matter
title: "Отчёт по лабораторной работе №6"
subtitle: "Управление процессами"
author: "Анастасия Мазуркевич"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true
toc-depth: 2
lof: true
lot: true
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
    - spelling=modern
    - babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float}
  - \floatplacement{figure}{H}
---

# Цель работы

Получить навыки управления процессами операционной системы.

# Ход выполнения

## Управление заданиями

Сначала были получены полномочия администратора с помощью команды:

`su -`

Далее последовательно запущены процессы:

`sleep 3600 &`
`dd if=/dev/zero of=/dev/null &`
`sleep 7200`

Поскольку последняя команда была выполнена без «&», терминал заблокировался на 2 часа. Чтобы вернуть управление оболочкой, использовалось сочетание клавиш Ctrl+Z, после чего процесс был приостановлен.  

Командой jobs просмотрен список фоновых заданий:  
- sleep 3600 и dd if=/dev/zero of=/dev/null находились в состоянии Running,  
- sleep 7200 был отмечен как Stopped.  

![Список запущенных заданий](Screenshot_1.png){ #fig:001 width=70% }

Для возобновления выполнения третьего задания в фоне применена команда:

`bg 3`

Затем команда fg 1 переместила процесс sleep 3600 на передний план.  
После нажатия Ctrl+C задание завершилось. Аналогичные действия выполнены для оставшихся процессов (dd и sleep 7200).  

В другом терминале, под обычным пользователем, было запущено:

`dd if=/dev/zero of=/dev/null &`

После выхода из терминала командой exit процесс продолжил работу в системе.  

Для проверки активности процессов использовалась команда top. На экране отобразилось, что процесс dd выполняется, занимая более 90% CPU.  

![Процесс dd в top](Screenshot_2.png){ #fig:002 width=70% }

После выхода из top клавишей q программа была запущена повторно.  
С помощью клавиши k процесс dd был завершён. Это подтвердилось исчезновением задания из списка.  

![Завершение процесса dd в top](Screenshot_3.png){ #fig:003 width=70% }

## Управление процессами

Сначала были получены полномочия администратора с помощью команды:

`su -`

Затем запущены три процесса:

`dd if=/dev/zero of=/dev/null &`
`dd if=/dev/zero of=/dev/null &`
`dd if=/dev/zero of=/dev/null &`

Для просмотра списка процессов использовалась команда:

`ps aux | grep dd`

Она показала все строки, содержащие dd. Внизу списка отобразились три активных процесса dd.  

![Поиск процессов dd](Screenshot_4.png){ #fig:004 width=70% }

Далее для одного из процессов был изменён приоритет командой:

`renice -n 5 <PID>`

После этого для наглядного просмотра иерархии процессов применялась команда:

`ps fax | grep -B5 dd`

Опция -B5 позволила вывести несколько строк выше совпадения, что дало возможность увидеть родительскую оболочку, из которой были запущены процессы dd, вместе с её PID.  

Затем был найден PID оболочки, и выполнена команда:

`kill -9 <PID>`

После завершения родительской оболочки автоматически остановились и все дочерние процессы dd.  

![Завершение родительского процесса и дочерних dd](Screenshot_5.png){ #fig:005 width=70% }

## Задание 1

Сначала были получены права администратора командой:

`su`

Затем трижды был запущен процесс:

`dd if=/dev/zero of=/dev/null &`

Каждый процесс был помещён в фоновый режим и получил собственный PID.  

Для одного из процессов был изменён приоритет с помощью команды:

`renice -n 5 <PID>`

Вывод показал: старый приоритет 0, новый приоритет 5.  

После этого для того же процесса приоритет был изменён снова:

`renice -n 15 <PID>`

Теперь в выводе указано: старый приоритет 5, новый приоритет 15.  

В завершение все запущенные процессы dd были остановлены с помощью команды:

`killall dd`

Результат показал, что все три процесса завершены.  

![Запуск, изменение приоритета и завершение процессов dd](Screenshot_6.png){ #fig:006 width=70% }

## Задание 2

Сначала была запущена программа:

`yes > /dev/null &`

Процесс был помещён в фоновый режим. Затем аналогичная команда выполнена на переднем плане и приостановлена сочетанием Ctrl+Z. После этого процесс был завершён с помощью Ctrl+C.  

Для проверки статуса заданий использовалась команда:

`jobs`

Вывод показал, что один процесс находился в состоянии Running, другой — Stopped.  

![Фоновые и приостановленные процессы yes](Screenshot_7.png){ #fig:007 width=70% }

Следующим шагом один из процессов был перемещён на передний план командой `fg 1` и остановлен. Другой процесс был возобновлён в фоне командой bg 2. Для проверки снова применялась команда `jobs`, где оба процесса отмечены как Running.  

Далее процесс был запущен с опцией `nohup`:

`nohup yes > /dev/null &`

Благодаря этому он продолжал выполняться даже после выхода из оболочки.  

![Запуск yes с nohup](Screenshot_8.png){ #fig:008 width=70% }

Затем была запущена утилита `top`. В её выводе отобразились два процесса `yes`, оба активно использовали процессорное время.  

![Процессы yes в top](Screenshot_9.png){ #fig:009 width=70% }

Были запущены ещё несколько процессов `yes`. Для их завершения использовались разные способы:  
- по PID с помощью команды `kill`,  
- по идентификатору задания через `fg` и остановку,  
- а также массово через команду `killall yes`.  

![Завершение процессов yes](Screenshot_10.png){ #fig:010 width=70% }

В завершение одно из заданий yes было запущено с изменённым приоритетом:

`nice -n 5 yes > /dev/null &`

С помощью команды `ps -l` было показано, что у данного процесса приоритет увеличился (число nice стало больше). Затем утилитой renice приоритет был изменён у другого процесса так, чтобы значения у них совпадали.  

![Изменение приоритета процессов yes](Screenshot_11.png){ #fig:011 width=70% }

# Контрольные вопросы

**1. Какая команда даёт обзор всех текущих заданий оболочки?**  
Команда `jobs`. Она выводит список процессов, запущенных из текущей оболочки, с их статусом (Running, Stopped и др.).

**2. Как остановить текущее задание оболочки, чтобы продолжить его выполнение в фоновом режиме?**  
Сначала приостановить процесс сочетанием клавиш `Ctrl+Z`, затем возобновить его в фоне командой `bg`.

**3. Какую комбинацию клавиш можно использовать для отмены текущего задания оболочки?**  
`Ctrl+C` — отправляет сигнал прерывания (SIGINT), завершающий процесс.

**4. Необходимо отменить одно из начатых заданий. Доступ к оболочке, в которой в данный момент работает пользователь, невозможен. Что можно сделать, чтобы отменить задание?**  
Использовать команду `kill <PID>` или `killall <имя_процесса>` из другой оболочки или от имени администратора.

**5. Какая команда используется для отображения отношений между родительскими и дочерними процессами?**  
`ps fax` — выводит дерево процессов с отображением иерархии.

**6. Какая команда позволит изменить приоритет процесса с идентификатором 1234 на более высокий?**  
`renice -n -5 -p 1234` — уменьшение значения nice повышает приоритет процесса.

**7. В системе в настоящее время запущено 20 процессов dd. Как проще всего остановить их все сразу?**  
Командой `killall dd`, которая завершит все процессы с указанным именем.

**8. Какая команда позволяет остановить команду с именем mycommand?**  
`killall mycommand`.

**9. Какая команда используется в top, чтобы убить процесс?**  
Внутри `top` используется клавиша `k`, после чего вводится PID процесса для завершения.

**10. Как запустить команду с достаточно высоким приоритетом, не рискуя, что не хватит ресурсов для других процессов?**  
С помощью `nice` с положительным значением, например:  
`nice -n 10 <команда>` — это понижает приоритет задачи, снижая нагрузку на систему.

# Заключение

В процессе лабораторной работы были освоены основные приёмы администрирования пользователей и групп в Linux: создание и настройка учётных записей, редактирование параметров паролей, работа с sudo и назначение групповых прав. Эти навыки формируют базу для эффективного управления системой.
